<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload Foto Prewed</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- tabs nav -->

      <div class="row justify-content-center align-items-center">
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button
              class="nav-link active"
              id="nav-home-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-home"
              type="button"
              role="tab"
              aria-controls="nav-home"
              aria-selected="true"
            >
              Home
            </button>
            <button
              class="nav-link"
              id="nav-profile-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-profile"
              type="button"
              role="tab"
              aria-controls="nav-profile"
              aria-selected="false"
            >
              Profile
            </button>
            <button
              class="nav-link"
              id="nav-contact-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-contact"
              type="button"
              role="tab"
              aria-controls="nav-contact"
              aria-selected="false"
            >
              Contact
            </button>
            <button
              class="nav-link"
              id="nav-disabled-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-disabled"
              type="button"
              role="tab"
              aria-controls="nav-disabled"
              aria-selected="false"
              disabled
            >
              Disabled
            </button>
          </div>
        </nav>
        <!-- end tabs nav -->

        <!-- tabs content -->
        <div
          class="container d-flex justify-content-center align-items-center min-vh-100"
        >
          <div class="row justify-content-center align-items-center">
            <div class="tab-content" id="nav-tabContent">
              <div
                class="tab-pane fade show active"
                id="nav-home"
                role="tabpanel"
                aria-labelledby="nav-home-tab"
                tabindex="0"
              >
                <div class="input-group">
                  <input
                    type="file"
                    class="form-control"
                    id="inputGroupFile04"
                    aria-describedby="inputGroupFileAddon04"
                    aria-label="Upload"
                    accept=".jpg, .jpeg, .png"
                    onchange="addImage(event)"
                    style="display: none"
                  />
                  <button
                    onclick="document.getElementById('inputGroupFile04').click()"
                    id="addPhotoButton"
                    class="btn btn-lg btn-primary"
                  >
                    Tambah Foto
                  </button>
                </div>
                <div
                  id="imagePreviewContainer"
                  style="
                    margin-top: 20px;
                    display: flex;
                    gap: 10px;
                    flex-wrap: wrap;
                  "
                >
                  <!-- Thumbnails for uploaded images will be shown here -->
                </div>
              </div>
              <div
                class="tab-pane fade"
                id="nav-profile"
                role="tabpanel"
                aria-labelledby="nav-profile-tab"
                tabindex="0"
              >
                b
              </div>
              <div
                class="tab-pane fade"
                id="nav-contact"
                role="tabpanel"
                aria-labelledby="nav-contact-tab"
                tabindex="0"
              >
                c
              </div>
              <div
                class="tab-pane fade"
                id="nav-disabled"
                role="tabpanel"
                aria-labelledby="nav-disabled-tab"
                tabindex="0"
              >
                d
              </div>
            </div>
          </div>
        </div>
        <!-- end tabs content -->
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
      const maxPhotos = 8;
      let photoCount = 0;

      function addImage(event) {
        const file = event.target.files[0];
        const allowedFormats = ["image/jpeg", "image/png"];

        if (file && allowedFormats.includes(file.type)) {
          if (photoCount < maxPhotos) {
            const reader = new FileReader();
            reader.onload = function (e) {
              const imagePreviewContainer = document.getElementById(
                "imagePreviewContainer"
              );
              const imageElement = document.createElement("img");
              imageElement.src = e.target.result;
              imageElement.alt = "Preview";
              imageElement.style.maxWidth = "200px";
              imageElement.style.maxHeight = "200px";
              imageElement.style.border = "1px solid #ddd";
              imageElement.style.borderRadius = "8px";
              imageElement.style.margin = "5px";

              imagePreviewContainer.appendChild(imageElement);
              photoCount++;

              // Disable button if maximum reached
              if (photoCount >= maxPhotos) {
                document.getElementById("addPhotoButton").disabled = true;
                alert("You have reached the maximum of 8 photos.");
              }
            };
            reader.readAsDataURL(file);
          } else {
            alert("Maximum of 8 photos allowed.");
          }
        } else {
          alert("Please upload a valid image file (JPG or PNG format only).");
        }

        // Clear the file input to allow re-uploading of the same file if needed
        event.target.value = "";
      }
    </script>
  </body>
</html>
